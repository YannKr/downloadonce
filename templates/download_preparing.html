{{define "content"}}
<div class="download-page">
  <div class="download-card">
    <h1>Preparing Your Download</h1>
    <p>Your file is being prepared. You'll be redirected automatically when it's ready.</p>
    <div class="progress-bar" id="preparing-progress">
      <div class="progress-fill" style="width: {{.Data.Progress}}%"></div>
      <span class="progress-text">{{.Data.Progress}}%</span>
    </div>
    <p class="text-muted" id="status-text">Processing...</p>
  </div>
</div>
<script>
  connectTokenSSE("{{.Data.TokenID}}");
</script>
{{end}}
