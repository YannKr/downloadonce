{{define "content"}}
<div class="page-header">
  <h1>{{if .Data.ShowArchived}}Archived Campaigns{{else}}Campaigns{{end}}</h1>
  <div>
    {{if .Data.ShowArchived}}
    <a href="/campaigns" class="btn btn-secondary">Active Campaigns</a>
    {{else}}
    <a href="/campaigns?archived=1" class="btn btn-secondary">Archived</a>
    <a href="/campaigns/new" class="btn btn-primary">New Campaign</a>
    {{end}}
  </div>
</div>

{{if .Data.Campaigns}}
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>State</th>
      <th>Asset</th>
      <th>Recipients</th>
      <th>Downloads</th>
      <th>Created</th>
    </tr>
  </thead>
  <tbody>
    {{range .Data.Campaigns}}
    <tr>
      <td><a href="/campaigns/{{.ID}}">{{.Name}}</a></td>
      <td>{{stateBadge .State}}</td>
      <td>{{.AssetName}}</td>
      <td>{{.RecipientCount}}</td>
      <td>{{.DownloadedCount}}</td>
      <td>{{formatTime .CreatedAt}}</td>
    </tr>
    {{end}}
  </tbody>
</table>
{{else}}
<p class="text-muted">{{if .Data.ShowArchived}}No archived campaigns.{{else}}No campaigns yet.{{end}}</p>
{{end}}
{{end}}
